services:
  web:
    build:
      context: ./web
      dockerfile: Dockerfile
    container_name: captains-log-web
    ports:
      - "${WEB_PORT:-80}:80"
    restart: unless-stopped
    deploy:
      resources:
        limits:
          memory: 128M
    security_opt:
      - no-new-privileges:true
